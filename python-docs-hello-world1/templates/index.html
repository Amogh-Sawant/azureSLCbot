<!DOCTYPE html>
<html>
    <head>
        <title>ASLCBot</title>

        <style>

            body{
                background-color: #fefbe9;
            }

            h1{
                margin-left: 10%;
                margin-top: 2%;
                color: #943d24;
            }
            .box{
                width: 670px;
                height: 550px;
                padding: 2px;
                margin-top: 90px;
                margin-left: 790px;
                
                border: 5px solid #39395f;
                border-radius: 15px;
                background-color: #e1eedd;
            }

            .box1{
                width: 670px;
                height: 550px;
                padding: 2px;
                margin-top: -565px;
                margin-left: 50px;
                
                border: 5px solid #39395f;
                border-radius: 15px;
                background-color: #e1eedd
            }

            .imgc{
                width: 100%;
                height: 100%;
                border-radius: 10px;

            }

            .vid{
                width: 100%;
                height: 100%;
                border-radius: 10px;
            }

            .hideclass2{
                float:left;
                padding-left: 40%;
                margin-left: -10%;
                color: #6db784;
                font-size: larger;
            }

            .formdiv{
                margin-top: 1%;
                padding-left: 50%;
                margin-left: -10%;
            }

            .hideclass{
                float:left;
                padding-left: 50%;
                margin-left: -15%;
                color: red;
                font-size: larger;
                
                animation: animate 
                    1.5s linear infinite;
            }

            @keyframes animate{
                0%{
                    opacity: 0;
                }
                50%{
                    opacity: 0.7;
                }
                100%{
                    opacity: 0;
                }
            }

        </style>

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"> </script>
        <script type=text/javascript> 

            $(document).keyup(function(event) {
                if (event.which === 13) {
                    document.getElementById('hideaway').style.display='none';
                    document.getElementById('hideaway2').style.display='block';
                    $.getJSON('/chatbotOff', { }, function(data) { }); return false;

                }
                if (event.which === 187) {
                    document.getElementById('hideaway').style.display='block';
                    document.getElementById('hideaway2').style.display='none';
                    $.getJSON('/chatbotOn', { }, function(data) { }); return false;
                    
                }
            });

        </script> 

    </head>

    <body>
        <h1 style="font-family: 'Courier New', Courier, monospace;">American Sign Language ChatBot</h1>

        <div id="hideaway" class="hideclass" style="display: none;"><h3><b>•</b>RECORDING HAND SIGNS (Press 'ENTER' to Stop)</h3></div>
        <div id="hideaway2" class="hideclass2" style="display: block;"><h3><b>•</b>Press '=' to Start Recording or Scroll down to use the text input</h3></div>

        <script>
            window.addEventListener('beforeunload', function (e) {
                
                $.getJSON('/chatbotOff', { }, function(data) { }); return false;

            });
        </script>


        <div class="box">

            <img src="{{ url_for('image') }}" class="imgc">

        </div>

        <div class="box1">

            <img src="{{ url_for('video') }}" class="imgc"/>

        </div>

        <h2> 

        <div class="formdiv">
        <form method="post" id="rply-form">
            <input type="text" name="rply" id="rply">
            <button type="submit" value="Send">submit</button>
        </form>
        </div>

            <!--Jquery Cdn -->
        <script src="https://code.jquery.com/jquery-3.5.1.js"
                integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
                crossorigin="anonymous"></script>
        
        <script type="text/javascript">
            $(document).on('submit','#rply-form',function(e){
            e.preventDefault();
            $.ajax({
                type:'POST',
                url:'/',
                data:{
                rply:$("#rply").val()
                }
            })
            });
        </script>
    </body>
</html>